{"title":"Sheet Three","markdown":{"yaml":{"title":"Sheet Three","format":"html","filters":["pyodide"]},"headingText":"Warming-up Exercises","containsRefs":false,"markdown":"\n\nNUMA01: Computational Programming with Python  \nMalin Christersson, Robert Klöfkorn  \n\nThe purpose of this training assignment is to repeat list comprehensions, practice slicing, work more with functions, and investigate sets in Python.  \nYou should not run the code before you have written down what it will do when executed.  \nThis assignment has 8 tasks.\n\n\n### Task 1\n\nAssume we have stored the following values in a list:\n\n```{pyodide-python}\n#| read-only: false\nL = [0, 1, 2, 1, 0, -1, -2, -1, 0]\n\n# TODO:\n# Predict what each line prints before running the cell.\nprint(\"L[0] =\", L[0])\nprint(\"L[-1] =\", L[-1])\nprint(\"L[:-1] =\", L[:-1])\nprint(\"L + L[1:-1] + L =\", L + L[1:-1] + L)\n\nL_copy = L.copy()\nL_copy[2:2] = [-3]\nprint(\"After inserting -3 at position 2:\", L_copy)\n\nL_copy = L.copy()\nL_copy[3:4] = []\nprint(\"After deleting element at index 3:\", L_copy)\n\nL_copy = L.copy()\nL_copy[2:5] = [-5]\nprint(\"After replacing indices 2:5 with -5:\", L_copy)\n```\n\n### Task 2\n\nWhat parts of the following code generate an error, and why?\n\n```{pyodide-python}\n#| read-only: false\nd = dict()\nprint(\"Accessing missing key:\", d[\"nokey\"])\n\nd[\"key\"] = 3\nprint(\"Existing key:\", d[\"key\"])\n\ndel d[\"key\"]\nprint(\"After deletion:\", d[\"key\"])\n\nd[(1, 2)] = \"tuple\"\nd[[1, 2]] = \"list\"\n```\n\n---\n\n## Programming Exercises\n\n### Task 3\n\nTransition to the programming exercises below.\n\n### Task 4\n\nLet a distance table between some villages be given by:\n\n$$\n\\begin{bmatrix}\n0 & 20 & 30 & 40\\\\\n20 & 0 & 50 & 60\\\\\n30 & 50 & 0 & 70\\\\\n40 & 60 & 70 & 0\n\\end{bmatrix}\n$$\n\n1. Construct a list (of lists) that contains this data. Call this list `distance`.  \n2. Construct from this list a list `reddistance` which contains only the relevant data in the following form:\n\n$$\n\\begin{bmatrix}\n20\\\\\n30 & 50\\\\\n40 & 60 & 70\n\\end{bmatrix}\n$$\n\nUse slicing for this task. Solve it two ways: (1) with `for`-loops and (2) using only list comprehension and slicing.\n\n```{pyodide-python}\n#| read-only: false\n# Build the full distance table.\ndistance = [\n    [0, 20, 30, 40],\n    [20, 0, 50, 60],\n    [30, 50, 0, 70],\n    [40, 60, 70, 0],\n]\n\n# TODO:\n# 1) Create reddistance using for-loops and slicing.\nreddistance_loops = []\n\n# 2) Create reddistance using only list comprehension and slicing.\nreddistance_comp = []\n\nprint(\"distance:\", distance)\nprint(\"reddistance_loops:\", reddistance_loops)\nprint(\"reddistance_comp:\", reddistance_comp)\n```\n\n### Task 5\n\nLet $A$ and $B$ be sets. The set $(A \\setminus B) \\cup (B \\setminus A)$ is called the symmetric difference of the two sets.\n\nWrite a function that performs this operation. Compare your results to `A.symmetric_difference(B)`.\n\n```{pyodide-python}\n#| read-only: false\ndef symmetric_difference(A, B):\n    \"\"\"Return the symmetric difference of A and B without using the built-in method.\"\"\"\n    # TODO: replace with your own implementation.\n    pass\n\n\nA = {1, 2, 3, 4}\nB = {3, 4, 5}\n\nprint(\"Custom symmetric difference:\", symmetric_difference(A, B))\nprint(\"Built-in symmetric difference:\", A.symmetric_difference(B))\n```\n\n### Task 6\n\nStudy other operations on sets. You find a complete list by using tab-completion in Spyder/IPython after typing `A.` where `A` is a previously defined set in Python.\n\nIn particular, study the methods `update` and `intersection_update`. Explain the difference between the commands `intersection` and `intersection_update`.\n\n```{pyodide-python}\n#| read-only: false\nA = {1, 2, 3}\nB = {3, 4, 5}\n\n# TODO:\n# Experiment with update, intersection, and intersection_update.\nprint(\"A before update:\", A)\nA.update(B)\nprint(\"A after update:\", A)\n\nA = {1, 2, 3}\nprint(\"A intersection B (new set):\", A.intersection(B))\nprint(\"A after intersection (unchanged):\", A)\n\nA.intersection_update(B)\nprint(\"A after intersection_update (modified in place):\", A)\n```\n\n### Task 7\n\nTest in Python (with a couple of examples) the statement that the empty set is a subset of any set.\n\n```{pyodide-python}\n#| read-only: false\nempty = set()\n\nsets_to_test = [\n    set(),\n    {1},\n    {1, 2, 3},\n    {\"a\", \"b\"},\n]\n\nfor idx, current in enumerate(sets_to_test, start=1):\n    result = empty.issubset(current)\n    print(f\"Test {idx}: empty set subset of {current}? {result}\")\n```\n\n### Task 8\n\n**Bisection Method.** A continuous function that changes sign in an interval $[a, b]$ has at least one root there. Such a root can be found by the bisection method.  \nStarting from $[a, b]$, investigate the sign change in the subintervals $[a, \\tfrac{a+b}{2}]$ and $[\\tfrac{a+b}{2}, b]$. If the sign changes in the first subinterval, redefine $b := \\tfrac{a+b}{2}$; otherwise set $a := \\tfrac{a+b}{2}$. Repeat until $b - a$ is less than a given tolerance. Note that a sign change is characterized by $f(a) f(b) < 0$.\n\nImplement this algorithm. It needs the initial interval $[a, b]$ and the tolerance. Test the method with the function $\\arctan(x)$ and with the polynomial $f(x) = 3x^2 - 5$ in the interval $[-0.5, 0.6]$ and alternatively in $[-1.5, -0.4]$.\n\n```{pyodide-python}\n#| read-only: false\nimport math\n\ndef bisection(f, a, b, tol=1e-6, max_iter=200):\n    \"\"\"Simple bisection method for a sign-changing interval [a, b].\"\"\"\n    fa = f(a)\n    fb = f(b)\n    if fa * fb > 0:\n        raise ValueError(\"f(a) and f(b) must have opposite signs.\")\n\n    for _ in range(max_iter):\n        mid = 0.5 * (a + b)\n        fm = f(mid)\n        if abs(b - a) < tol:\n            return mid\n        if fa * fm <= 0:\n            b, fb = mid, fm\n        else:\n            a, fa = mid, fm\n    return mid\n\n\ndef f_poly(x):\n    return 3 * x**2 - 5\n\n\nroot1 = bisection(math.atan, -0.5, 0.6, tol=1e-8)\nroot2 = bisection(math.atan, -1.5, -0.4, tol=1e-8)\nroot3 = bisection(f_poly, -0.5, 0.6, tol=1e-8)\nroot4 = bisection(f_poly, -1.5, -0.4, tol=1e-8)\n\nprint(\"Roots for atan in [-0.5, 0.6]:\", root1)\nprint(\"Roots for atan in [-1.5, -0.4]:\", root2)\nprint(\"Roots for 3x^2 - 5 in [-0.5, 0.6]:\", root3)\nprint(\"Roots for 3x^2 - 5 in [-1.5, -0.4]:\", root4)\n```\n","srcMarkdownNoYaml":"\n\nNUMA01: Computational Programming with Python  \nMalin Christersson, Robert Klöfkorn  \n\nThe purpose of this training assignment is to repeat list comprehensions, practice slicing, work more with functions, and investigate sets in Python.  \nYou should not run the code before you have written down what it will do when executed.  \nThis assignment has 8 tasks.\n\n## Warming-up Exercises\n\n### Task 1\n\nAssume we have stored the following values in a list:\n\n```{pyodide-python}\n#| read-only: false\nL = [0, 1, 2, 1, 0, -1, -2, -1, 0]\n\n# TODO:\n# Predict what each line prints before running the cell.\nprint(\"L[0] =\", L[0])\nprint(\"L[-1] =\", L[-1])\nprint(\"L[:-1] =\", L[:-1])\nprint(\"L + L[1:-1] + L =\", L + L[1:-1] + L)\n\nL_copy = L.copy()\nL_copy[2:2] = [-3]\nprint(\"After inserting -3 at position 2:\", L_copy)\n\nL_copy = L.copy()\nL_copy[3:4] = []\nprint(\"After deleting element at index 3:\", L_copy)\n\nL_copy = L.copy()\nL_copy[2:5] = [-5]\nprint(\"After replacing indices 2:5 with -5:\", L_copy)\n```\n\n### Task 2\n\nWhat parts of the following code generate an error, and why?\n\n```{pyodide-python}\n#| read-only: false\nd = dict()\nprint(\"Accessing missing key:\", d[\"nokey\"])\n\nd[\"key\"] = 3\nprint(\"Existing key:\", d[\"key\"])\n\ndel d[\"key\"]\nprint(\"After deletion:\", d[\"key\"])\n\nd[(1, 2)] = \"tuple\"\nd[[1, 2]] = \"list\"\n```\n\n---\n\n## Programming Exercises\n\n### Task 3\n\nTransition to the programming exercises below.\n\n### Task 4\n\nLet a distance table between some villages be given by:\n\n$$\n\\begin{bmatrix}\n0 & 20 & 30 & 40\\\\\n20 & 0 & 50 & 60\\\\\n30 & 50 & 0 & 70\\\\\n40 & 60 & 70 & 0\n\\end{bmatrix}\n$$\n\n1. Construct a list (of lists) that contains this data. Call this list `distance`.  \n2. Construct from this list a list `reddistance` which contains only the relevant data in the following form:\n\n$$\n\\begin{bmatrix}\n20\\\\\n30 & 50\\\\\n40 & 60 & 70\n\\end{bmatrix}\n$$\n\nUse slicing for this task. Solve it two ways: (1) with `for`-loops and (2) using only list comprehension and slicing.\n\n```{pyodide-python}\n#| read-only: false\n# Build the full distance table.\ndistance = [\n    [0, 20, 30, 40],\n    [20, 0, 50, 60],\n    [30, 50, 0, 70],\n    [40, 60, 70, 0],\n]\n\n# TODO:\n# 1) Create reddistance using for-loops and slicing.\nreddistance_loops = []\n\n# 2) Create reddistance using only list comprehension and slicing.\nreddistance_comp = []\n\nprint(\"distance:\", distance)\nprint(\"reddistance_loops:\", reddistance_loops)\nprint(\"reddistance_comp:\", reddistance_comp)\n```\n\n### Task 5\n\nLet $A$ and $B$ be sets. The set $(A \\setminus B) \\cup (B \\setminus A)$ is called the symmetric difference of the two sets.\n\nWrite a function that performs this operation. Compare your results to `A.symmetric_difference(B)`.\n\n```{pyodide-python}\n#| read-only: false\ndef symmetric_difference(A, B):\n    \"\"\"Return the symmetric difference of A and B without using the built-in method.\"\"\"\n    # TODO: replace with your own implementation.\n    pass\n\n\nA = {1, 2, 3, 4}\nB = {3, 4, 5}\n\nprint(\"Custom symmetric difference:\", symmetric_difference(A, B))\nprint(\"Built-in symmetric difference:\", A.symmetric_difference(B))\n```\n\n### Task 6\n\nStudy other operations on sets. You find a complete list by using tab-completion in Spyder/IPython after typing `A.` where `A` is a previously defined set in Python.\n\nIn particular, study the methods `update` and `intersection_update`. Explain the difference between the commands `intersection` and `intersection_update`.\n\n```{pyodide-python}\n#| read-only: false\nA = {1, 2, 3}\nB = {3, 4, 5}\n\n# TODO:\n# Experiment with update, intersection, and intersection_update.\nprint(\"A before update:\", A)\nA.update(B)\nprint(\"A after update:\", A)\n\nA = {1, 2, 3}\nprint(\"A intersection B (new set):\", A.intersection(B))\nprint(\"A after intersection (unchanged):\", A)\n\nA.intersection_update(B)\nprint(\"A after intersection_update (modified in place):\", A)\n```\n\n### Task 7\n\nTest in Python (with a couple of examples) the statement that the empty set is a subset of any set.\n\n```{pyodide-python}\n#| read-only: false\nempty = set()\n\nsets_to_test = [\n    set(),\n    {1},\n    {1, 2, 3},\n    {\"a\", \"b\"},\n]\n\nfor idx, current in enumerate(sets_to_test, start=1):\n    result = empty.issubset(current)\n    print(f\"Test {idx}: empty set subset of {current}? {result}\")\n```\n\n### Task 8\n\n**Bisection Method.** A continuous function that changes sign in an interval $[a, b]$ has at least one root there. Such a root can be found by the bisection method.  \nStarting from $[a, b]$, investigate the sign change in the subintervals $[a, \\tfrac{a+b}{2}]$ and $[\\tfrac{a+b}{2}, b]$. If the sign changes in the first subinterval, redefine $b := \\tfrac{a+b}{2}$; otherwise set $a := \\tfrac{a+b}{2}$. Repeat until $b - a$ is less than a given tolerance. Note that a sign change is characterized by $f(a) f(b) < 0$.\n\nImplement this algorithm. It needs the initial interval $[a, b]$ and the tolerance. Test the method with the function $\\arctan(x)$ and with the polynomial $f(x) = 3x^2 - 5$ in the interval $[-0.5, 0.6]$ and alternatively in $[-1.5, -0.4]$.\n\n```{pyodide-python}\n#| read-only: false\nimport math\n\ndef bisection(f, a, b, tol=1e-6, max_iter=200):\n    \"\"\"Simple bisection method for a sign-changing interval [a, b].\"\"\"\n    fa = f(a)\n    fb = f(b)\n    if fa * fb > 0:\n        raise ValueError(\"f(a) and f(b) must have opposite signs.\")\n\n    for _ in range(max_iter):\n        mid = 0.5 * (a + b)\n        fm = f(mid)\n        if abs(b - a) < tol:\n            return mid\n        if fa * fm <= 0:\n            b, fb = mid, fm\n        else:\n            a, fa = mid, fm\n    return mid\n\n\ndef f_poly(x):\n    return 3 * x**2 - 5\n\n\nroot1 = bisection(math.atan, -0.5, 0.6, tol=1e-8)\nroot2 = bisection(math.atan, -1.5, -0.4, tol=1e-8)\nroot3 = bisection(f_poly, -0.5, 0.6, tol=1e-8)\nroot4 = bisection(f_poly, -1.5, -0.4, tol=1e-8)\n\nprint(\"Roots for atan in [-0.5, 0.6]:\", root1)\nprint(\"Roots for atan in [-1.5, -0.4]:\", root2)\nprint(\"Roots for 3x^2 - 5 in [-0.5, 0.6]:\", root3)\nprint(\"Roots for 3x^2 - 5 in [-1.5, -0.4]:\", root4)\n```\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"filters":["pyodide"],"output-file":"sheet_3.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.8.26","theme":["cosmo","brand"],"title":"Sheet Three"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}