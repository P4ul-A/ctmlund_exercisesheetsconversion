---
title: "Sheet Thirteen Solutions"
format: html
filters:
  - pyodide
---

### Task 1

```{pyodide-python}
#| read-only: false
def crazzyPlus(a, b):
    """
    Crazy addition without carrying.
    Each digit pair is added and the sums are concatenated.
    """
    if not isinstance(a, int) or not isinstance(b, int):
        raise ValueError("Inputs must be integers.")
    if a < 0 or b < 0:
        raise ValueError("Inputs must be non-negative.")
    if b > a:
        raise ValueError("Second input must be less than or equal to first.")

    first_part = a - b 
    second_part = a + b

    result_str = str(first_part) + str(second_part)
    
    return int(result_str)

print(crazzyPlus(6, 4))  # 210
```

### Task 3

```{pyodide-python}
#| read-only: false
import unittest

class TestCrazzyPlus(unittest.TestCase):
    def test_basic(self):
        self.assertEqual(crazzyPlus(9, 2), 711)
        self.assertEqual(crazzyPlus(8, 5), 313)
        self.assertEqual(crazzyPlus(5, 2), 37)

    def test_invalid(self):
        with self.assertRaises(ValueError):
            crazzyPlus(-1, 2)
        with self.assertRaises(ValueError):
            crazzyPlus(1.5, 2)
        with self.assertRaises(ValueError):
            crazzyPlus(3, 5)

suite = unittest.TestLoader().loadTestsFromTestCase(TestCrazzyPlus)
unittest.TextTestRunner().run(suite)
```

### Task 5

```{pyodide-python}
#| read-only: false
def smallest_missing_positive(values):
    """Return the smallest missing positive integer."""
    present = set()
    for v in values:
        if isinstance(v, int) and v > 0:
            present.add(v)

    candidate = 1
    while candidate in present:
        candidate += 1
    return candidate

nums = [3, 4, 7, 1, 2, 9]
print("Missing:", smallest_missing_positive(nums))
```

### Task 6

```{pyodide-python}
#| read-only: false
def count_islands(grid):
    """Count islands in a grid using 8-direction connectivity."""
    if not grid:
        return 0

    rows = len(grid)
    cols = len(grid[0])
    visited = []
    for _ in range(rows):
        visited.append([False] * cols)

    directions = [
        (-1, -1), (-1, 0), (-1, 1),
        (0, -1),          (0, 1),
        (1, -1),  (1, 0), (1, 1),
    ]

    def dfs(r, c):
        stack = [(r, c)]
        visited[r][c] = True
        while stack:
            cr, cc = stack.pop()
            for dr, dc in directions:
                nr = cr + dr
                nc = cc + dc
                if 0 <= nr < rows and 0 <= nc < cols:
                    if grid[nr][nc] == 1 and not visited[nr][nc]:
                        visited[nr][nc] = True
                        stack.append((nr, nc))

    islands = 0
    for r in range(rows):
        for c in range(cols):
            if grid[r][c] == 1 and not visited[r][c]:
                islands += 1
                dfs(r, c)
    return islands

example = [
    [0, 0, 0, 0, 0, 0, 0, 0],
    [0, 1, 1, 0, 0, 0, 0, 0],
    [0, 1, 1, 1, 0, 0, 0, 1],
    [0, 0, 1, 0, 0, 0, 1, 0],
    [0, 1, 1, 1, 0, 1, 1, 0],
    [0, 0, 0, 0, 0, 0, 0, 0],
    [0, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 1, 0, 0, 0, 0, 0],
]

print("Islands:", count_islands(example))
```
